= ENV Config Manager
:toc:
:sectnums:
:sectanchors:

== Intro

This module makes management of your config 100% transparent while easy.

image::doc/logo.png[align=center, width=20%]

In short:

- Available for Typescript or Javascript
- Written in Typescript
- You create your config specs using a Factory or a Yaml file
- Your config is then loaded from your ENV or .env file
- Support for multiple .env (debug, etc...)
- Your config is validated according to your specs
- Your config is made available to you in a super easy way
- You can Print your config using your logger
- confmgr protects your secret and will never display them

== Usage

=== Quick Version

.npm
    npm install --save confmgr

.yarn 
    yarn add confmgr

.javascript
    const ConfigManager = require('confmgr').ConfigManager;

.typescript
    import { ConfigManager } from 'confmgr';

=== Some details

You may have a look at the samples in the `samples` folder. There are simple demos in Typescript and Javascript.

In short, you first need to define the specs of your config. You can do that using Yaml or using a Factory directly, as shown below:

.Using a Yaml file
[source,yaml]
----
include::samples/03_ts_yaml/configSpecs.yml[]
----

.Using the Factory
[source,typescript]
----
include::samples/01_ts_basic_valid/configSpecs.ts[]
----

Once you defined the specs for your config, you need to create an `.env` file (unless you plan on passing the config as Environment Variables). It looks as following for the specs mentioned above:

----
include::samples/01_ts_basic_valid/.env[]
----

You may now use your config:

[source, typescript]
----
include::samples/01_ts_basic_valid/index.ts[]
----

WARNING: You should never display your config, especially in your logs, as it may contain some secrets! Instead, use the Print() method of the ConfigManager, it will mask sensible data.

== Dev

First run:

    yarn setup

Then you may for instance:

    yarn test:watch

include::samples/README.adoc[leveloffset=+1]
